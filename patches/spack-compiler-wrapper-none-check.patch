--- a/var/spack/test_repos/spack_repo/builtin_mock/packages/compiler_wrapper/package.py
+++ b/var/spack/test_repos/spack_repo/builtin_mock/packages/compiler_wrapper/package.py
@@ -171,7 +171,11 @@ def setup_dependent_build_environment(
             if not hasattr(compiler_pkg, attr_name):
                 continue
 
             compiler = getattr(compiler_pkg, attr_name)
-            env.set(spack_var_name, compiler)
+            # Check if compiler is None before setting environment variable
+            # This prevents "NoneType" deprecation warnings and execution failures
+            if compiler is not None:
+                env.set(spack_var_name, compiler)
+            else:
+                continue
 
             if language not in compiler_pkg.compiler_wrapper_link_paths:
                 continue
